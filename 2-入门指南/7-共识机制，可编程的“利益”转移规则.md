进行中...

# 共识机制，可编程的利益转移规则


## 前言

共识机制，可编程的利益转移规则。这个题目写出来，就有点激动，编程开发这么多年，我们尝试过很多方法，试图通过某种激励手段提高用户粘性，把用户留住。比如常见的积分机制、用户等级等，但是，没有任何一种方式，能与加密货币的共识机制相提并论。

机制，可以通过编程去实现，听起来夸张，做起来困难，实现了就是飞跃。每一个真正的区块链产品，本身就是一个小小的社会，一个由网络节点组成的自管理组织，这个组织的运行，要由共识机制来规范。

本文回答了“为什么比特币无需监管”，主要讲述机制的作用，加密货币共识机制的种类，它们各自的优缺点，以及亿书的改进计划。这一篇开始，就到了设计与编码的临界点，再往前就到了不得不编码的地步了。

## 机制，左右产品走向的根源

机制一词，原指机器的构造和动作原理，在社会学中的内涵可以表述为“协调各个部分之间关系以更好地发挥作用的具体运行方式。”

工作中遇到过一位好领导，他非常公道正派，一切事情按规矩办事，用制度说话。在他的领导下，整个部门都很有激情，心无旁骛，专心工作，上级领导也非常认可，升职加薪是常有的事情，人人都能收获满满。后来，因工作调整，我们很多人去了新部门，大家反映，再也没了当初的激情，因为工作不一定被认可，付出不一定有收获。

这个例子，可能很多人都遇到过，是最能直接体会一个社会、组织或部门当中机制运行规律的。在任何一个系统中，机制都起着基础性作用，左右着系统发展走向。在理想状态下，有了良好的机制，可以使一个社会系统接近于一个自适应系统（在外部条件发生不确定变化时，能自动地迅速作出正确反应）。正常的生物机体(如人体)就具有这种机制和能力。

机制的构建是一项复杂的系统工程。对于加密货币而言，共识机制包含各种激励制度和具体算法，比如：交易费用、区块奖励等。机制的关键因素是人，评判一个机制的好坏，往往要通过一段时间的观察，看看人参与和执行的积极性是否能够持续。如果不能持续，就预示着机制失败，系统或产品也将最终失败。

实际上，加密货币的目标就是要建立一个“无需监管的自适应经济系统”。目前来看，支撑这个自适应系统的机制，常用的有三种，它们是：POW，POS，DPOS等，而且都能在现实生活中找到对应的经济模型。这些机制，保证了众多节点有序的运行。但是，长期来看，它们各有优缺点，都存在失败的可能。

下面我们看看这些机制的演进过程。

## 1.POW(Proof of Work)：工作量证明机制

#### （1）基本原理

这是比特币采用的共识机制，也是最早的。理解起来，很简单，就是“按劳取酬”，你付出多少劳动（工作），就会获得多少报酬（比特币等加密货币）。在网络世界里，这里的劳动就是你为网络提供的计算服务（算力x时长），提供这种服务的过程就是“挖矿”。

那么“报酬”怎么分配呢？假如是真的矿藏，显然最好是均匀分布，人们“挖矿”所得的比重与各自提供的算力成正比，通俗一点就是，能力越强获得越多。

#### （2）优点

机制本身当然很复杂，有很多细节，比如：挖矿难度自动调整、区块奖励逐步减半等，这些因素都是基于经济学原理，能吸引和鼓励更多人参与。

理想状态，这种机制，可以吸引很多用户参与其中，特别是越先参与的获得越多，会促使加密货币的初始阶段发展迅速，节点网络迅速扩大。在Cpu挖矿的时代，比特币吸引了很多人参与“挖矿”，就是很好的证明。

#### （3）缺点

一方面，算力是计算机硬件（Cpu、Gpu等）提供的，要耗费电力。如果非要给“加密货币”找寻“货币价值”的意义，那么这个方面，应该是最有力的证据。但是，电力是对能源的直接消耗，与人类追求节能、清洁、环保的理念相悖。

另一个方面，这种机制发展到今天，算力的提供已经不再是单纯的CPU了，而是逐步发展到GPU、FPGA，乃至ASIC矿机。用户也从个人挖矿发展到大的矿池、矿场，算力集中越来越明显。这与去中心化的方向背道而驰，渐行渐远，网络的安全逐渐受到威胁。

再者，比特币区块奖励每４年将减半，当挖矿的成本高于挖矿收益时，人们挖矿的积极性降低，会有大量算力减少，比特币网络的安全性进一步堪忧。

## POS(Proof of Stake):股权证明机制。

#### 基本原理

简单来说，就是一个根据你持有货币的多少和时间，给你发利息的一个制度。现实中最典型的例子就是股票，或者是银行存款。如果你想获得更多的货币，那么就打开客户端，让它保持在线，从而保证网络的安全。

没有挖矿过程，在创世区块内写明了股权分配比例，之后通过转让、交易的方式，逐渐分散到用户手里，并通过“利息”的方式新增货币，实现对节点的奖励。

#### 优点

不用挖矿，不需要大量耗费电力和能源。

对计算机硬件基本上没有要求，不用担心算力集中导致中心化的出现。

Pow机制的加密货币，因为用户丢失等各种原因，可能导致通货紧缩，但是Pos机制的加密货币因为"利息"而保持每年按比例不断新增，可以有效避免紧缩出现。

#### 缺点



## DPOS

DPOS机制是让每一个持有BTS的人对整个系统资源当代表的人进行投票，而获得最多票数的101个代表进行交易打包计算。这个可以理解为101个矿池，而这101个矿池彼此的权利是完全相等的。那些握着BTS选票的人可以随时通过投票更换这些代表（矿池），只要他们提供的算力不稳定，计算机宕机、或者试图利用手中的权力作恶，他们将会立刻被愤怒的选民门踢出整个系统，而后备代表可以随时顶上去。

## 亿书对DPOS机制的改进



## 参考

[为什么POS与POW不具有可比性](http://zl.yibite.com/point/2014/0206/14440.shtml)

http://www.8btc.com/dpossha