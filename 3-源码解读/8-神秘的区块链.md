进行中...

# 神秘的区块链

## 前言

比特币诞生以来，经过7个年头的发展，加密货币从小众的玩具，到世界各国的围追堵截，再到今天各大公司的参与和追捧，其中最令各国恐惧阻挠的原因是区块链，最令人神往的也是因为区块链。同样，为什么要写这本书，为什么要把版权保护和知识分享建立去中心化的架构之上，原因还是区块链。

我们分享的源码项目——亿书，是一款加密货币产品，用时髦的话说，更是一款实用的区块链产品。那么，区块链是什么？有那些非比寻常的特点？这一章，我们就来详细解释和说明，并把亿书相关的代码逻辑，认真阅读和理解，以便更加深入的了解和掌握这项技术。

## 源码

blocks.js https://github.com/Ebookcoin/ebookcoin/blob/v0.1.3/modules/blocks.js

block.js https://github.com/Ebookcoin/ebookcoin/blob/logic/block.js

loader.js https://github.com/Ebookcoin/ebookcoin/blob/v0.1.3/modules/loader.js

## 类图

![blocks-class.png][]

## 流程图

![blocks-activity.png][]

## 解读

#### 1.区块链是什么？

区块链是由包含交易信息的区块从后向前有序链接起来的数据结构，可以存储成文件形式，不过多数产品存储在一个简单数据库中，比如比特币核心客户端使用Google的LevelDB数据库存储，亿书使用SQLite数据库。

#### 2.区块链有那些特点？


#### 3.

数据库结构




#### 2.区块地址

产生c结尾的地址：

```
// logic/block.js 20行
private.getAddressByPublicKey = function (publicKey) {
	var publicKeyHash = crypto.createHash('sha256').update(publicKey, 'hex').digest();
	var temp = new Buffer(8);
	for (var i = 0; i < 8; i++) {
		temp[i] = publicKeyHash[7 - i];
	}

	var address = bignum.fromBuffer(temp).toString() + "C";
	return address;
}

// 上面的方法，在312行dbRead函数里调用，
generatorId: private.getAddressByPublicKey(raw.b_generatorPublicKey),
```

## 总结

## 链接

## 参考

[从数据库发展规律看区块链技术](http://chainb.com/?P=Cont&id=33)
[http://www.8btc.com/what-is-blockchain](http://www.8btc.com/what-is-blockchain)
[区块链的运行原理和发展](http://www.8btc.com/blockchain-principle)

[blocks-class.png]: ../styles/images/modules/blocks/blocks-class.png
[blocks-activity.png]: ../styles/images/modules/block/activity.png
